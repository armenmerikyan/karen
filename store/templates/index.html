{% extends 'base.html' %}
{% load custom_filters %}

{% block content %}
<!-- Matrix Rain Canvas Background -->
<canvas id="matrixRain" class="matrix-background"></canvas>

<!-- Main Terminal Window -->
<div class="cyber-container">
    <div class="terminal-window">
        <!-- Glowing Header Bar -->
        <div class="terminal-header">
            <div class="header-buttons">
                <span class="btn-close"></span>
                <span class="btn-minimize"></span>
                <span class="btn-expand"></span>
            </div>
            <div class="terminal-title">GIGAHARD_MAINFRAME_ACCESS.exe</div>
        </div>

        <!-- Main Content -->
        <div class="terminal-content">
            <div class="boot-sequence">
                <div class="typing-text">Initializing Gigahard Neural Interface...</div>
                <div class="loading-bar">
                    <div class="progress"></div>
                </div>
            </div>

            <!-- Services Section -->
            <div class="system-module">
                <div class="module-header">
                    <span class="prompt">>></span>
                    <h2 class="text-monospace">GIGAHARD_SERVICES</h2>
                </div>
                <div class="module-content">
                    <p class="cyber-text">first true AI agent store. At {{profile.name}}, creators can build AI agents with code or no-code tools, deploy them instantly, list them on a public marketplace, and get paid when users engage or subscribe.</p>
                    <p class="cyber-text blink">One-Click AI Agents. Deployed and Operational in Under a Minute._</p>
                </div>
            </div>

            <!-- Blockchain Integration -->
            <div class="system-module">
                <div class="module-header">
                    <span class="prompt">>></span>
                    <h2 class="text-monospace">NEURAL_BLOCKCHAIN_INTERFACE</h2>
                </div>
                
                {% if not user.is_authenticated %}
                <div class="cyber-alert">
                    <div class="alert-header">
                        <span class="prompt">>></span>
                        <h3 class="text-monospace">ACCESS_REQUIRED</h3>
                    </div>
                    <div class="alert-content">
                        <p class="cyber-text">Neural handshake required for full system access</p>
                        <a href="{% url 'register' %}" class="cyber-button">
                            <span class="button-effect"></span>
                            <span class="button-text">INITIALIZE_NEURAL_LINK</span>
                        </a>
                    </div>
                </div>
                {% endif %}

                <!-- Solana Integration -->
                <div class="grid-container">
                    <div class="cyber-panel">
                        <div class="panel-header">
                            <i class="fas fa-wallet text-terminal-green"></i>
                            <h3 class="text-monospace">SOLANA_NEURAL_BRIDGE</h3>
                        </div>
                        <div class="panel-content">
                            <code class="cyber-code">
                                <a href="https://solscan.io/account/{{profile.wallet}}" class="text-terminal-green">{{profile.wallet}}</a>
                            </code>
                            <button class="cyber-button small" onclick="navigator.clipboard.writeText('{{profile.wallet}}')">
                                <span class="button-effect"></span>
                                <span class="button-text">COPY_NEURAL_KEY</span>
                            </button>
                        </div>
                    </div>

                    <!-- X.com Integration -->
                    <div class="cyber-panel">
                        <div class="panel-header">
                            <i class="fab fa-twitter text-terminal-green"></i>
                            <h3 class="text-monospace">NEURAL_SOCIAL_LINK</h3>
                        </div>
                        <div class="panel-content">
                            <code class="cyber-code">
                                <a href="https://x.com/{{profile.x_handle}}" class="text-terminal-green">@{{profile.x_handle}}</a>
                            </code>
                            <a href="https://x.com/{{profile.x_handle}}" class="cyber-button">
                                <span class="button-effect"></span>
                                <span class="button-text">ESTABLISH_CONNECTION</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Matrix Rain Animation Script -->
<script>
    const canvas = document.getElementById('matrixRain');
    const ctx = canvas.getContext('2d');

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const matrix = "ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()*&^%";
    const characters = matrix.split("");
    const fontSize = 14;
    const columns = canvas.width/fontSize;
    const drops = [];

    for(let x = 0; x < columns; x++) {
        drops[x] = 1; 
    }

    function draw() {
        ctx.fillStyle = "rgba(0, 0, 0, 0.04)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        ctx.fillStyle = "#0F0";
        ctx.font = fontSize + "px monospace";

        for(let i = 0; i < drops.length; i++) {
            const text = characters[Math.floor(Math.random() * characters.length)];
            ctx.fillText(text, i * fontSize, drops[i] * fontSize);

            if(drops[i] * fontSize > canvas.height && Math.random() > 0.975)
                drops[i] = 0;

            drops[i]++;
        }
    }

    setInterval(draw, 35);
</script>
{% endblock %}
